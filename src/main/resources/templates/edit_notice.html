<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>공지 수정</title>
    <link rel="stylesheet" th:href="@{/css/dashboard.css}"/>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<div th:replace="~{fragments/dashboard_frag :: adminFragment}"></div>

<div class="main-content">
    <h1>공지 수정</h1>

    <!-- 성공 또는 오류 메시지 표시 -->
    <div class="alert alert-success" th:if="${successMessage}" th:text="${successMessage}"></div>
    <div class="alert alert-danger" th:if="${errorMessage}" th:text="${errorMessage}"></div>

    <form method="post" th:action="@{'/admin/notice/edit/' + ${notice.notificationId}}" th:object="${notice}">
        <div class="form-group">
            <label class="form-label" for="title">제목</label>
            <input class="form-control" id="title" required th:field="*{title}" type="text"/>
        </div>
        <div class="form-group">
            <label class="form-label" for="content">내용</label>
            <textarea class="form-control" id="content" required th:field="*{content}"></textarea>
        </div>
        <button class="btn action-btn" type="submit">수정</button>
    </form>
</div>

<script>
    $(document).ready(function() {
        var asideBtn = $('.aside-btn');
        var adminAside = $('.admin-aside');
        var img = asideBtn.find('img');

        asideBtn.on('click', function() {
            adminAside.toggleClass('hidden');
            var currentlyHidden = adminAside.hasClass('hidden');
            img.attr('src', currentlyHidden ? "/img/arrow-left.svg" : "/img/arrow-right.svg");
            asideBtn.css('right', currentlyHidden ? "-40px" : "-35px");
        });
    });
</script>
</body>
</html>
